# Application Mode
# Set to 'local' to enable direct filesystem editing
# Set to 'cloud' to enable browser-based editing with export functionality
PUBLIC_APP_MODE=local

# API Base URL (for cloud mode)
# When in cloud mode, this URL will be used to fetch data from the external API
# Default: https://api.openfilamentdatabase.org
# Leave empty in local mode - the app will use local API endpoints
PUBLIC_API_BASE_URL=https://api.openfilamentdatabase.org

# Cache Settings (for cloud mode)
# Enable/disable API response caching (default: true)
PUBLIC_CACHE_ENABLED=true

# Default cache TTL in seconds (default: 300 = 5 minutes)
# Set to 0 to disable default caching
PUBLIC_CACHE_TTL_DEFAULT=300

# Cache TTL for schema endpoints in seconds (default: 86400 = 1 day)
PUBLIC_CACHE_TTL_SCHEMAS=86400

# Cache TTL for index/list endpoints in seconds (default: 300 = 5 minutes)
PUBLIC_CACHE_TTL_INDEX=300

# Cache TTL for individual entity endpoints in seconds (default: 900 = 15 minutes)
PUBLIC_CACHE_TTL_ENTITY=900

# GitHub OAuth (for cloud mode PR creation)
# Create a GitHub OAuth App at https://github.com/settings/developers
# Leave empty in local mode - the app will use local API endpoints
PUBLIC_GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=http://openfilamentdatabase.org/api/auth/github/callback

# Upstream repository for PR creation
GITHUB_UPSTREAM_OWNER=OpenFilamentCollective
GITHUB_UPSTREAM_REPO=open-filament-database

# === Anonymous Bot Submissions ===
# Enable anonymous PR creation (users submit without GitHub account)
# When enabled, users can submit changes anonymously via a bot account.
# A checkbox lets users opt into GitHub OAuth for credited PRs instead.
PUBLIC_ANON_BOT_ENABLED=false
ANON_BOT_ENABLED=false
# GitHub App credentials for anonymous bot PR creation
# Create a GitHub App at https://github.com/settings/apps
# Required permissions: Contents (read & write), Pull requests (read & write)
# Install the app on the upstream repository's organization
GITHUB_APP_ID=
# Private key (PEM format). In env vars, replace newlines with literal \n
# Generate at: GitHub App Settings > Private keys > Generate a private key
GITHUB_APP_PRIVATE_KEY=
# Installation ID (visible in the URL after installing the app, or via the API)
GITHUB_APP_INSTALLATION_ID=

# === Webhook Endpoints (called on PR lifecycle events) ===
# URL called when an anonymous PR is created. Receives { uuid, email?, prNumber, prUrl }
WEBHOOK_URL_SUBMITTED=
# URL called when an anonymous PR is merged. Receives { uuid, prNumber }
WEBHOOK_URL_MERGED=
# URL called when an anonymous PR is closed without merge. Receives { uuid, prNumber }
WEBHOOK_URL_CLOSED=
# Shared secret for signing outgoing webhook payloads (HMAC-SHA256)
WEBHOOK_SECRET=

# === GitHub Incoming Webhook ===
# Secret for validating incoming GitHub webhook events (PR merged/closed)
# Configure in GitHub repo: Settings > Webhooks > Add webhook
GITHUB_WEBHOOK_SECRET=

# === Anonymous Submission Rate Limiting ===
# Max anonymous submissions per IP per hour (default: 5)
ANON_RATE_LIMIT_PER_HOUR=5

# === Wrapper / White-label Settings ===
# Name of the wrapper application (shown in UI and PR attribution)
# e.g. "CompanyName" â†’ "Submitted anonymously via CompanyName"
# Leave empty to use the default "OFD web editor"
PUBLIC_WRAPPER_NAME=
# Set to 'true' to show the optional email field on anonymous submissions
PUBLIC_ANON_SHOW_EMAIL=false