<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Filament Database - API</title>
    <link rel="icon" type="image/x-icon" href="https://github.com/OpenFilamentCollective/open-filament-database/blob/main/docs/img/logo.png?raw=true">
    <style>
        :root {
            --bg: #0d1117;
            --bg-secondary: #161b22;
            --border: #30363d;
            --text: #e6edf3;
            --text-muted: #8b949e;
            --accent: #58a6ff;
            --accent-hover: #79b8ff;
            --code-bg: #1f2428;
            --success: #3fb950;
            --warning: #d29922;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            padding: 3rem 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 1.2rem;
        }

        .notice {
            background: var(--bg-secondary);
            border: 1px solid var(--warning);
            border-radius: 6px;
            padding: 1rem 1.5rem;
            margin: 2rem 0;
        }

        .notice-title {
            color: var(--warning);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--accent);
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        section {
            margin: 2.5rem 0;
        }

        h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        h3 {
            font-size: 1.1rem;
            margin: 1.5rem 0 0.75rem 0;
            color: var(--text);
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-muted);
        }

        a {
            color: var(--accent);
            text-decoration: none;
        }

        a:hover {
            color: var(--accent-hover);
            text-decoration: underline;
        }

        code {
            background: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 0.9em;
        }

        pre {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .endpoint {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border);
            background: var(--code-bg);
        }

        .method {
            background: var(--success);
            color: var(--bg);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .endpoint-path {
            font-family: monospace;
            color: var(--text);
        }

        .endpoint-body {
            padding: 1rem;
        }

        .endpoint-desc {
            color: var(--text-muted);
            margin-bottom: 0;
        }

        /* File tree styles */
        .file-tree {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 0.9rem;
        }

        .file-tree ul {
            list-style: none;
            padding-left: 1.5rem;
        }

        .file-tree > ul {
            padding-left: 0;
        }

        .file-tree li {
            padding: 0.2rem 0;
        }

        .file-tree a {
            color: var(--accent);
        }

        .file-tree .dir {
            color: var(--text);
            font-weight: 500;
        }

        .file-tree .dir::before {
            content: "üìÅ ";
        }

        .file-tree .file::before {
            content: "üìÑ ";
        }

        .file-tree .placeholder {
            color: var(--text-muted);
            font-style: italic;
        }

        .file-tree .placeholder::before {
            content: "üìÑ ";
        }

        .version {
            display: inline-block;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            margin-top: 1rem;
        }

        footer {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
            text-align: center;
            color: var(--text-muted);
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Open Filament Database</h1>
            <p class="subtitle">Static JSON API for 3D Printing Filament Data</p>
            <span class="version">v<VERSION/></span>
        </header>

        <div class="notice">
            <div class="notice-title">This is the API, not the Web UI</div>
            <p style="margin-bottom: 0;">
                This site serves raw JSON data for programmatic access. If you're looking for a
                browsable interface to explore filaments, visit the
                <a href="https://github.com/OpenFilamentCollective/open-filament-database">main repository</a>
                or check for community-built frontends.
            </p>
        </div>

        <section>
            <h2>Current Dataset</h2>
            <STATS/>
            <p style="text-align: center; font-size: 0.875rem;">
                Generated: <GENERATED_AT/>
            </p>
        </section>

        <section>
            <h2>Output Files</h2>
            <p>Browse all generated files or download bulk exports:</p>
            <div class="file-tree">
                <OUTPUTFILES/>
            </div>
        </section>

        <section>
            <h2>API Reference</h2>
            <p>
                The API is organized hierarchically following the natural structure of the data.
                All responses are static JSON files served via GitHub Pages.
            </p>

            <h3>Root Endpoint</h3>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">Returns API metadata, statistics, and available endpoints.</p>
                </div>
            </div>

            <h3>Brands</h3>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/brands/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">List all brands with material counts.</p>
                </div>
            </div>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/brands/{brand-slug}/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">Get brand details and list of materials.</p>
                </div>
            </div>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/brands/logo/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">List all brand logos with IDs and paths.</p>
                </div>
            </div>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/brands/logo/{logo-id}.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">Get brand logo metadata including brand ID, name, and logo file path.</p>
                </div>
            </div>

            <h3>Materials &amp; Filaments</h3>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/brands/{brand}/materials/{material}/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">Get material details and list of filaments.</p>
                </div>
            </div>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/brands/{brand}/materials/{material}/filaments/{filament}/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">Get filament details and list of color variants.</p>
                </div>
            </div>

            <h3>Variants (Colors)</h3>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/brands/{brand}/materials/{material}/filaments/{filament}/variants/{variant}.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">Get variant with all sizes and purchase links.</p>
                </div>
            </div>

            <h3>Stores</h3>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/stores/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">List all retail stores.</p>
                </div>
            </div>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/stores/{store-slug}.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">Get store details.</p>
                </div>
            </div>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/stores/logo/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">List all store logos with IDs and paths.</p>
                </div>
            </div>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/stores/logo/{logo-id}.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">Get store logo metadata including store ID, name, and logo file path.</p>
                </div>
            </div>

            <h3>Schemas</h3>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method">GET</span>
                    <span class="endpoint-path">/api/v1/schemas/index.json</span>
                </div>
                <div class="endpoint-body">
                    <p class="endpoint-desc">List all JSON schemas for data validation.</p>
                </div>
            </div>
        </section>

        <section>
            <h2>Example Usage</h2>
            <h3>Fetch with curl</h3>
<pre><code># Get all brands
curl https://open-filament-database.github.io/api/v1/brands/index.json

# Get a specific brand's materials
curl https://open-filament-database.github.io/api/v1/brands/prusament/index.json

# Download complete dataset
curl -O https://open-filament-database.github.io/json/all.json</code></pre>

            <h3>JavaScript/TypeScript</h3>
<pre><code>const response = await fetch(
  'https://open-filament-database.github.io/api/v1/brands/index.json'
);
const data = await response.json();
console.log(`Found ${data.count} brands`);</code></pre>

            <h3>Python</h3>
<pre><code>import requests

brands = requests.get(
    'https://open-filament-database.github.io/api/v1/brands/index.json'
).json()

for brand in brands['brands']:
    print(f"{brand['name']}: {brand['material_count']} materials")</code></pre>
        </section>

        <section>
            <h2>Contributing</h2>
            <p>
                This database is community-maintained. To add or update filament data,
                visit the <a href="https://github.com/OpenFilamentCollective/open-filament-database">GitHub repository</a>
                and submit a pull request.
            </p>
        </section>

        <footer>
            <p>
                <a href="https://github.com/OpenFilamentCollective/open-filament-database">GitHub</a> &bull;
                <a href="manifest.json">Manifest</a> &bull;
                <a href="api/v1/index.json">API Root</a>
            </p>
            <p style="margin-top: 1rem;">
                Open Filament Database &mdash; Open source filament data for the 3D printing community
            </p>
        </footer>
    </div>
</body>
</html>
